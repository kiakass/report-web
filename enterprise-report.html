<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기업고객 경쟁사리포트</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Malgun Gothic', sans-serif;
        }

        body {
            line-height: 1.6;
            color: #2c3e50;
            background: #f8f9fa;
            min-height: 100vh;
            margin: 0;
            display: flex;
        }

        /* 사이드바 (축소 고정) */
        .sidebar {
            width: 60px;
            background: white;
            color: #343a40;
            min-height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 1000;
            border-right: 1px solid #e9ecef;
            box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            background: white;
            position: relative;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-icon {
            font-size: 1.4em;
            font-weight: 700;
            color: #A50034;
        }

        .sidebar-menu {
            padding: 0;
            list-style: none;
            margin: 0;
        }

        .menu-item {
            border-bottom: 1px solid #e9ecef;
        }

        .menu-link {
            display: block;
            padding: 15px 8px;
            color: #6c757d;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .menu-icon {
            font-size: 1.2em;
            display: block;
        }

        .menu-text {
            font-size: 0.7em;
            line-height: 1.2;
        }

        .menu-link:hover {
            background: #f8f9fa;
            color: #A50034;
        }

        .menu-link.active {
            background: #A50034;
            color: white;
        }

        /* 메인 콘텐츠 */
        .main-content {
            margin-left: 60px;
            flex: 1;
            padding: 0;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        /* 메인 섹션 전환 */
        .main-section {
            display: none;
        }

        .main-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== 홈페이지 스타일 ===== */
        .main-header {
            text-align: center;
            margin-bottom: 60px;
            padding: 60px 0;
        }

        .main-title {
            font-size: 3.5em;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 20px;
            letter-spacing: -0.02em;
        }

        .main-subtitle {
            font-size: 1.3em;
            color: #6c757d;
            margin-bottom: 40px;
            font-weight: 400;
        }

        .main-description {
            font-size: 1.1em;
            color: #495057;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .features-section {
            margin-bottom: 80px;
        }

        .section-title {
            font-size: 2.2em;
            font-weight: 600;
            color: #1a202c;
            text-align: center;
            margin-bottom: 50px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            border-color: #A50034;
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 20px;
            display: block;
        }

        .feature-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 15px;
        }

        .feature-description {
            color: #6c757d;
            line-height: 1.6;
            font-size: 1em;
        }

        .cta-section {
            text-align: center;
            margin-bottom: 80px;
        }

        .cta-button {
            display: inline-block;
            background: #A50034;
            color: white;
            padding: 18px 40px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .cta-button:hover {
            background: #8a002c;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(165, 0, 52, 0.3);
        }

        .stats-section {
            background: white;
            border-radius: 12px;
            padding: 50px 30px;
            margin-bottom: 60px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
        }

        .stats-title {
            font-size: 1.8em;
            font-weight: 600;
            color: #1a202c;
            text-align: center;
            margin-bottom: 40px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #A50034;
            margin-bottom: 10px;
            display: block;
        }

        .stat-label {
            color: #6c757d;
            font-size: 1em;
            font-weight: 500;
        }

        /* ===== 공통 페이지 스타일 ===== */
        .page-header {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        .page-title {
            color: #1a202c;
            margin-bottom: 10px;
            font-size: 2.2em;
            font-weight: 600;
        }

        .page-subtitle {
            color: #6c757d;
            font-size: 1.1em;
        }

        .content-card {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        /* ===== 리포트 생성 폼 스타일 ===== */
        .form-section {
            margin-bottom: 30px;
        }

        .form-section-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #343a40;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #A50034;
        }

        .form-row {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 10px;
        }

        .form-label {
            min-width: 100px;
            font-size: 0.95em;
            color: #495057;
            font-weight: 500;
        }

        .form-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9em;
            background: white;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #A50034;
            box-shadow: 0 0 0 0.2rem rgba(165, 0, 52, 0.25);
        }

        .form-textarea {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9em;
            background: white;
            min-height: 80px;
            resize: vertical;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #A50034;
            box-shadow: 0 0 0 0.2rem rgba(165, 0, 52, 0.25);
        }

        .form-select {
            width: 120px;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9em;
            background: white;
        }

        .form-button {
            background: #A50034;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .form-button:hover {
            background: #8a002c;
        }

        .generate-report-btn {
            width: 100%;
            background: #A50034;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .generate-report-btn:hover {
            background: #8a002c;
        }

        /* ===== 히스토리 테이블 스타일 ===== */
        .history-table-container {
            background: white;
            border-radius: 8px;
            padding: 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
            overflow-x: auto;
        }

        .history-table {
            width: 100%;
            background: white;
            border-collapse: collapse;
            border-radius: 8px;
            overflow: hidden;
            min-width: 700px;
        }

        .history-table th {
            background: #343a40;
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9em;
            white-space: nowrap;
        }

        .history-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.9em;
            color: #495057;
        }

        .history-table tr:hover {
            background: #f8f9fa;
            cursor: pointer;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
            white-space: nowrap;
        }

        .status-complete {
            background: #d4edda;
            color: #155724;
        }

        .status-processing {
            background: #fff3cd;
            color: #856404;
        }

        .report-link {
            color: #A50034;
            text-decoration: none;
            font-weight: 500;
        }

        .report-link:hover {
            text-decoration: underline;
        }

        /* 푸터 */
        .footer {
            background: #343a40;
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-text {
            font-size: 0.95em;
            color: #adb5bd;
        }

        /* ===== 리포트 조회 스타일 ===== */
        .back-to-list {
            display: inline-block;
            background: #343a40;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9em;
            margin-bottom: 20px;
            transition: background-color 0.3s ease;
        }

        .back-to-list:hover {
            background: #23272b;
        }

        .dashboard-header {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        .dashboard-title {
            color: #1a202c;
            margin-bottom: 10px;
            font-size: 2em;
            font-weight: 600;
        }

        .dashboard-subtitle {
            color: #6c757d;
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            text-align: center;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #495057;
            background: transparent;
        }

        .nav-tab.active {
            background: #A50034;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .nav-tab:hover:not(.active) {
            background: #f8f9fa;
            color: #A50034;
        }

        .content-section {
            display: none;
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        .content-title {
            color: #1a202c;
            margin-bottom: 25px;
            font-size: 1.8em;
            font-weight: 600;
            border-bottom: 2px solid #A50034;
            padding-bottom: 10px;
        }

        .chart-container {
            background: #fafafa;
            border-radius: 6px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid #e9ecef;
        }

        .chart-container canvas {
            max-width: 100%;
            max-height: 400px;
            width: 100% !important;
            height: auto !important;
        }

        .chart-title {
            font-size: 1.2em;
            color: #495057;
            margin-bottom: 20px;
            text-align: left;
            font-weight: 600;
        }

        .insights-box {
            background: #343a40;
            color: white;
            padding: 25px;
            border-radius: 6px;
            margin: 20px 0 30px;
            border-left: 4px solid #A50034;
        }

        .insights-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
            color: #f8f9fa;
        }

        .insight-item {
            margin-bottom: 12px;
            padding-left: 15px;
            position: relative;
            color: #e9ecef;
        }

        .insight-item::before {
            content: '•';
            position: absolute;
            left: 0;
            color: #adb5bd;
            font-weight: bold;
        }

        .highlight-text {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
            color: #1a202c;
        }

        .analysis-text {
            line-height: 1.8;
            color: #495057;
            margin: 20px 0;
            font-size: 1.05em;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #6c757d;
        }

        .analysis-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .info-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #343a40;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #A50034;
        }

        .info-content {
            line-height: 1.6;
        }

        .info-item {
            margin-bottom: 8px;
            color: #495057;
            font-size: 0.95em;
            padding-left: 15px;
            position: relative;
        }

        .info-item::before {
            content: '•';
            position: absolute;
            left: 0;
            color: #6c757d;
            font-weight: bold;
        }

        .info-item strong {
            color: #343a40;
        }
        
        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 10px;
            }

            .sidebar {
                transform: translateX(-100%);
            }

            .container {
                padding: 15px;
            }

            .main-title {
                font-size: 2.5em;
            }

            .dashboard-title {
                font-size: 2em;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .form-row {
                flex-direction: column;
                align-items: stretch;
                gap: 5px;
            }

            .form-label {
                min-width: auto;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- 사이드바 (축소 고정) -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">U+</div>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a class="menu-link active" data-section="home">
                    <span class="menu-icon">🏠</span>
                    <span class="menu-text">홈</span>
                </a>
            </li>
            <li class="menu-item">
                <a class="menu-link" data-section="create-report">
                    <span class="menu-icon">📝</span>
                    <span class="menu-text">리포트생성</span>
                </a>
            </li>
            <li class="menu-item">
                <a class="menu-link" data-section="report-history">
                    <span class="menu-icon">📋</span>
                    <span class="menu-text">히스토리</span>
                </a>
            </li>
            <li class="menu-item">
                <a class="menu-link" data-section="settings">
                    <span class="menu-icon">⚙️</span>
                    <span class="menu-text">설정</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <!-- 홈 페이지 -->
        <div id="home-section" class="main-section active">
            <div class="container">
                <!-- 메인 헤더 -->
                <div class="main-header">
                    <h1 class="main-title">기업고객 경쟁사리포트</h1>
                    <p class="main-subtitle">데이터 기반 시장 분석으로 경쟁 우위를 확보하세요</p>
                    <p class="main-description">
                        기업고객의 타겟 시장과 경쟁사 분석을 통해 
                        고객 특성 및 행동 패턴을 파악하여 전략적 인사이트를 제공하는 종합 분석 플랫폼입니다.
                    </p>
                </div>

                <!-- 주요 기능 -->
                <div class="features-section">
                    <h2 class="section-title">주요 기능</h2>
                    <div class="features-grid">
                        <div class="feature-card" onclick="showMainSection('create-report')">
                            <span class="feature-icon">📝</span>
                            <h3 class="feature-title">리포트 생성하기</h3>
                            <p class="feature-description">
                                특정 기간과 조건을 설정하여 
                                상세한 타겟 고객 분석 리포트를 생성합니다.
                            </p>
                        </div>
                        <div class="feature-card" onclick="showMainSection('report-history')">
                            <span class="feature-icon">📋</span>
                            <h3 class="feature-title">분석 히스토리</h3>
                            <p class="feature-description">
                                과거 생성된 모든 분석 리포트를 
                                체계적으로 관리하고 비교 분석합니다.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 핵심 인사이트 통계 -->
                <div class="stats-section">
                    <h2 class="stats-title">서비스 현황</h2>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number">4,048</span>
                            <span class="stat-label">총 생성 리포트</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">250+</span>
                            <span class="stat-label">활성 기업 고객</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">15M+</span>
                            <span class="stat-label">분석 데이터 포인트</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">99.9%</span>
                            <span class="stat-label">시스템 가동률</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 리포트 생성 페이지 -->
        <div id="create-report-section" class="main-section">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">타겟리포트 생성</h1>
                    <p class="page-subtitle">경쟁사 분석을 위한 맞춤형 리포트를 생성합니다</p>
                </div>

                <div class="content-card">
                    <form id="targetReportForm">
                        <div class="form-section">
                            <h3 class="form-section-title">리포트 개요</h3>
                            
                            <div class="form-row">
                                <label class="form-label">리포트명 :</label>
                                <input type="text" class="form-input" id="reportName" name="reportName" placeholder="예: 하이얼 경쟁사 분석 리포트">
                            </div>
                            
                            <div class="form-row">
                                <label class="form-label">활용계획 :</label>
                                <textarea class="form-textarea" id="usagePlan" name="usagePlan" placeholder="예: 영업팀의 월 시장평가 및 마케팅 전략 수립"></textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="form-section-title">분석 설정</h3>
                            
                            <div class="form-row">
                                <label class="form-label">기간 :</label>
                                <input type="date" class="form-input" id="startDate" name="startDate" value="2025-05-01">
                                <span style="color: #6c757d; margin: 0 10px;">~</span>
                                <input type="date" class="form-input" id="endDate" name="endDate" value="2025-05-31">
                            </div>
                            
                            <div class="form-row">
                                <label class="form-label">연령 :</label>
                                <input type="number" class="form-input" id="minAge" name="minAge" value="20" min="0" max="100" style="width: 100px;">
                                <span style="color: #6c757d; margin: 0 10px;">~</span>
                                <input type="number" class="form-input" id="maxAge" name="maxAge" value="50" min="0" max="100" style="width: 100px;">
                            </div>
                            
                            <div class="form-row">
                                <label class="form-label">대상고객 :</label>
                                <select class="form-select" id="targetCustomer" name="targetCustomer">
                                    <option value="URL">URL</option>
                                    <option value="고객명">고객명</option>
                                </select>
                                <textarea class="form-textarea" id="targetDetail" name="targetDetail" placeholder="www.haier.co.kr 을 검색" style="min-height: 60px;"></textarea>
                                <button type="button" class="form-button" onclick="searchTarget()">검색하기</button>
                            </div>
                            
                            <div class="form-row">
                                <label class="form-label">비교고객 :</label>
                                <select class="form-select" id="compareCustomer" name="compareCustomer">
                                    <option value="URL">URL</option>
                                    <option value="고객명">고객명</option>
                                </select>
                                <textarea class="form-textarea" id="compareDetail" name="compareDetail" placeholder="www.cuckoo.co.kr 을 검색" style="min-height: 60px;"></textarea>
                                <button type="button" class="form-button" onclick="searchCompare()">검색하기</button>
                            </div>
                        </div>

                        <button type="submit" class="generate-report-btn">리포트 생성하기</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- 히스토리 페이지 -->
        <div id="report-history-section" class="main-section">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">타겟리포트 히스토리</h1>
                    <p class="page-subtitle">생성된 분석 리포트 목록을 확인하고 조회할 수 있습니다</p>
                </div>

                <div class="history-table-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>번호</th>
                                <th>리포트명</th>
                                <th>대상고객</th>
                                <th>분석기간</th>
                                <th>생성일</th>
                                <th>상태</th>
                                <th>조회</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr onclick="viewReport('4048')">
                                <td>4048</td>
                                <td>하이얼 경쟁사 2024년 하반기 분석 리포트</td>
                                <td>하이얼</td>
                                <td>2024-07-01 ~ 2024-12-31</td>
                                <td>2025-01-15</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('4048'); return false;">조회</a></td>
                            </tr>
                            <tr onclick="viewReport('4047')">
                                <td>4047</td>
                                <td>소형가전 시장 점유율 분석</td>
                                <td>쿠잉</td>
                                <td>2024-06-01 ~ 2024-11-30</td>
                                <td>2024-12-20</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('4047'); return false;">조회</a></td>
                            </tr>
                            <tr onclick="viewReport('4022')">
                                <td>4022</td>
                                <td>연간통계리포트 2024년 12월 접속자 통계</td>
                                <td>모데비</td>
                                <td>2024-01-01 ~ 2024-12-31</td>
                                <td>2024-11-30</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('4022'); return false;">조회</a></td>
                            </tr>
                            <tr onclick="viewReport('4044')">
                                <td>4044</td>
                                <td>샤오미 브랜드 고객 행동 패턴 분석</td>
                                <td>샤오미</td>
                                <td>2024-09-01 ~ 2024-12-31</td>
                                <td>2025-01-10</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('4044'); return false;">조회</a></td>
                            </tr>
                            <tr onclick="viewReport('4015')">
                                <td>4015</td>
                                <td>연간통계리포트 2024 브랜드FIVE 접속자별 랭킹 분석</td>
                                <td>전체</td>
                                <td>2024-01-01 ~ 2024-12-31</td>
                                <td>2024-11-29</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('4015'); return false;">조회</a></td>
                            </tr>
                            <tr onclick="viewReport('3958')">
                                <td>3958</td>
                                <td>연간통계리포트 접속자 통계 파일 생성 요청</td>
                                <td>전체</td>
                                <td>2024-01-01 ~ 2024-10-31</td>
                                <td>2024-10-31</td>
                                <td><span class="status-badge status-complete">완료</span></td>
                                <td><a href="#" class="report-link" onclick="viewReport('3958'); return false;">조회</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 설정 페이지 -->
        <div id="settings-section" class="main-section">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">설정</h1>
                    <p class="page-subtitle">시스템 설정 및 사용자 관리</p>
                </div>
                <div class="content-card">
                    <p style="text-align: center; color: #6c757d; font-size: 1.1em; padding: 60px 0;">
                        설정 옵션이 이곳에 표시됩니다.
                    </p>
                </div>
            </div>
        </div>

        <!-- 리포트 조회 페이지 -->
        <div id="view-report-section" class="main-section">
            <div class="container">
                <a href="javascript:void(0);" class="back-to-list" onclick="showMainSection('report-history');">← 리포트 목록으로 돌아가기</a>

                <div class="dashboard-header">
                    <h1 class="dashboard-title">하이얼 경쟁사 2024년 하반기 분석 리포트</h1>
                    <p class="dashboard-subtitle">2024년 7월 ~ 2024년 12월 | 국내 가전시장 경쟁 분석</p>
                </div>

                <div class="nav-tabs">
                    <div class="nav-tab active" onclick="showReportSection('overview', this)">개요</div>
                    <div class="nav-tab" onclick="showReportSection('demographics', this)">인구통계학적 분석</div>
                    <div class="nav-tab" onclick="showReportSection('trends', this)">시계열 분석</div>
                    <div class="nav-tab" onclick="showReportSection('behavior', this)">고객 행동 분석</div>
                </div>

                <div id="overview" class="content-section active">
                    <h2 class="content-title">분석 개요</h2>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">1,306</div>
                            <div class="stat-label">하이얼 3개월 MAU</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">9개사</div>
                            <div class="stat-label">분석 대상 브랜드</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">6개월</div>
                            <div class="stat-label">분석 기간</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3개</div>
                            <div class="stat-label">주력 제품 카테고리</div>
                        </div>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">핵심 인사이트</div>
                        <div class="insight-item">하이얼은 30-40대 젊은 중년 소비자층을 중심으로 방문하는 경향</div>
                        <div class="insight-item">1인가구 비중 17.8%로 쿠쿠·LG 대비 7-8%p 높은 수준</div>
                        <div class="insight-item">홈케어서비스 관심지수 최고치(10점) 기록</div>
                        <div class="insight-item">2024년 10-11월 상승세를 보이며 계절성 반응 탄력성 확인</div>
                    </div>

                    <!-- 분석 정보 요약 -->
                    <div class="analysis-info-grid">
                        <div class="info-card">
                            <div class="info-title">분석 목적</div>
                            <div class="info-content">
                                <div class="info-item">하이얼 브랜드의 국내 가전시장 내 경쟁 포지션 분석</div>
                                <div class="info-item">고객 특성 및 행동 패턴 파악을 통한 마케팅 전략 수립</div>
                                <div class="info-item">경쟁사 대비 차별화 포인트 및 개선 방향 도출</div>
                            </div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">분석 기간</div>
                            <div class="info-content">
                                <div class="info-item"><strong>2024년 7월 ~ 2024년 12월</strong></div>
                                <div class="info-item">총 6개월 기간</div>
                                <div class="info-item">월별 시계열 트렌드 분석</div>
                            </div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">분석 대상</div>
                            <div class="info-content">
                                <div class="info-item"><strong>기준 업체:</strong> 하이얼(Haier)</div>
                                <div class="info-item"><strong>경쟁사:</strong> 쿠쿠, LG전자, 하이마트, 샤오미, 캐리어, 삼성전자, 쿠잉, 모데비</div>
                                <div class="info-item">총 9개 브랜드 홈페이지 접속자 기준</div>
                            </div>
                        </div>
                        <div class="info-card">
                            <div class="info-title">분석 항목</div>
                            <div class="info-content">
                                <div class="info-item"><strong>I. 인구통계학적 분석:</strong> 연령, 성별, 지역, 가구세그먼트</div>
                                <div class="info-item"><strong>II. 시계열 분석:</strong> 월별 접속자 수, 점유율 변화</div>
                                <div class="info-item"><strong>III. 사이트 방문 분석:</strong> 주요 방문 사이트, 교차방문 패턴</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="demographics" class="content-section">
                    <h2 class="content-title">I. 인구통계학적 분석</h2>
                    
                    <!-- 1. 업체별 총 방문자 수 비교 -->
                    <div class="chart-container">
                        <div class="chart-title">1. 브랜드별 총 방문자 수 비교 (3개월 MAU)</div>
                        <canvas id="visitorsChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">방문자 수 분석 인사이트</div>
                        <div class="insight-item">하이얼의 3개월간 방문자 수(MAU)는 1,306명입니다</div>
                        <div class="insight-item">대형 3사(쿠쿠·LG·하이마트)의 MAU가 전체의 대부분을 차지해 브랜드 집중도가 높은 시장 구조</div>
                        <div class="insight-item">시장 지배력은 작지만, 하이얼·쿠잉·모데비등이 틈새 브랜드 경쟁 구도를 형성</div>
                    </div>

                    <!-- 2. 연령대별 방문자 비율 -->
                    <div class="chart-container">
                        <div class="chart-title">2. 브랜드별 연령대 분포 (상위 5개 연령대 정규화)</div>
                        <canvas id="ageChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">연령대별 특성</div>
                        <div class="insight-item"><span class="highlight-text">하이얼</span>: 30대와 40대 비율이 상대적으로 높은 편으로, 젊은 중년 소비자층 중심</div>
                        <div class="insight-item"><span class="highlight-text">Himart, LGE</span>: 60대 이상 방문자 비중 두드러짐</div>
                        <div class="insight-item"><span class="highlight-text">Cuckoo</span>: 40-50대 비중이 강한 브랜드</div>
                        <div class="insight-item">하이얼은 쿠잉과 유사한 연령대 분포를 이루고 있음</div>
                    </div>

                    <!-- 3. 성별 방문자 비율 -->
                    <div class="chart-container">
                        <div class="chart-title">3. 브랜드별 성별 분포</div>
                        <canvas id="genderChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">성별 분포 특성</div>
                        <div class="insight-item"><span class="highlight-text">Haier</span>: 남성 방문자 비율이 높고, Carrier, Cuckoo도 유사한 경향</div>
                        <div class="insight-item"><span class="highlight-text">Himart, LGE</span>: 상대적으로 여성 비율이 높아 생활용품/유통 중심 브랜드 특성 반영</div>
                        <div class="insight-item">대부분의 브랜드는 성별 균형이 뚜렷하게 나뉘기보다는 약간의 편차를 보이는 수준</div>
                    </div>

                    <!-- 4. 지역별 방문자 비율 -->
                    <div class="chart-container">
                        <div class="chart-title">4. 지역별 방문자 비율 (상위 5개 지역)</div>
                        <canvas id="regionChart"></canvas>
                    </div>

                    <!-- 5. 고객 특성 관심지수 분석 -->
                    <div class="chart-container">
                        <div class="chart-title">5. 고객특성지수 히트맵 (평균값 기준)</div>
                        <canvas id="customerIndexChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">고객특성지수 분석</div>
                        <div class="insight-item"><span class="highlight-text">Haier</span>: 홈케어서비스 관심 지수 최고치(10점), 블로그 활동(6.5점)·이사 관심(5.0점) 상위권</div>
                        <div class="insight-item"><span class="highlight-text">Xiaomi</span>: 2ND단말 보유·구매력·공기질 민감·도서·잡지 관심 지수 모두 10점으로 멀티디바이스+가성비+콘텐츠 삼박자</div>
                        <div class="insight-item"><span class="highlight-text">Cooing</span>: 홈케어서비스 관심(10점)과 주방용품 가전 관심(8.5점) 두드러짐</div>
                    </div>

                    <!-- 6. 가구세그먼트 분석 -->
                    <div class="chart-container">
                        <div class="chart-title">6. 가구세그먼트별 분석 (FMIL_SGMT)</div>
                        <canvas id="householdChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">가구세그먼트 특성</div>
                        <div class="insight-item"><span class="highlight-text">하이얼</span>: 1인가구 비중 17.8%로 쿠쿠·LG전자(약 10%) 대비 7-8%p 높아 소형 가전·1인 라이프스타일 특성</div>
                        <div class="insight-item"><span class="highlight-text">중년 1인가구</span>: 5.5%로 확인돼, 싱글 중장년층이 하이얼의 잠재 성장 타깃</div>
                        <div class="insight-item"><span class="highlight-text">중년 자녀동거</span>: 48.5%로 절반 가까이 차지해 가족 단위 수요 역시 핵심 시장</div>
                    </div>
                </div>

                <div id="trends" class="content-section">
                    <h2 class="content-title">II. 시계열 분석</h2>
                    
                    <!-- 1. 월별 접속자 수 추이 -->
                    <div class="chart-container">
                        <div class="chart-title">1. 월별 접속자 수 추이 (2024.07 ~ 2024.12)</div>
                        <canvas id="trendsChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">중소형 가전 브랜드 트래픽 변화</div>
                        <div class="insight-item"><span class="highlight-text">Haier</span>: 2024년 10-11월에 15% 상승하며 반응 탄력성 확인. 계절성(난방) 또는 마케팅 반응 가능성</div>
                        <div class="insight-item"><span class="highlight-text">Cooing</span>: 2024년 하반기 전체적으로 일정 수준 유지. 점진적 이탈 우려는 없으나 성장세도 제한적</div>
                        <div class="insight-item"><span class="highlight-text">Modevi</span>: 2024년 9월 급격한 상승 후 10월부터 급락. 단기 캠페인 이슈의 영향 추정</div>
                    </div>

                    <!-- 2. 월별 접속자 수 점유율 변화 -->
                    <div class="chart-container">
                        <div class="chart-title">2. 월별 접속자 수 점유율 변화</div>
                        <canvas id="marketShareChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">대형 가전 브랜드 트래픽 변화</div>
                        <div class="insight-item"><span class="highlight-text">Himart</span>: 2024년 8월 이후 접속자 수 지속 감소하여 12월까지 약 15% 수준 하락</div>
                        <div class="insight-item"><span class="highlight-text">LGE</span>: 2024년 8월 대비 10% 증가하여 2024년 12월 120,450건. 완만한 상승 곡선 유지</div>
                        <div class="insight-item"><span class="highlight-text">Xiaomi</span>: 2024년 8월 대비 8% 증가. 가성비 중심 트래픽이 유지되는 흐름</div>
                    </div>

                    <div class="analysis-text">
                        계절성 요인(난방기기 등)과 마케팅 반응이 트래픽 변화에 주요한 영향을 미치는 것으로 분석됩니다. 
                        특히 하이얼의 경우 <span class="highlight-text">4분기 마케팅 효과</span>가 뚜렷하게 나타났습니다.
                    </div>
                </div>

                <div id="behavior" class="content-section">
                    <h2 class="content-title">III. 사이트 방문 분석</h2>
                    
                    <!-- 1. 사이트 방문 패턴 분석 -->
                    <div class="chart-container">
                        <div class="chart-title">1. 브랜드별 주요 방문 사이트 히트맵 (user_ratio 기준)</div>
                        <canvas id="siteVisitChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">사이트 방문 패턴 인사이트</div>
                        <div class="insight-item"><span class="highlight-text">haier</span>: 쿠팡(0.98)·옥션(0.56)·디시트렌드(0.52)·오늘의집(0.47) 중심. 가격 비교+커뮤니티 트렌드 반영 디자인·공간 활용 중시층</div>
                        <div class="insight-item"><span class="highlight-text">cooing</span>: 쿠팡(1.00)·오늘의집(0.60)·옥션(0.59)·Netflix(0.74) 중심. 홈데코·소형가전 동시 탐색 가성비 DIY·인테리어 지향층</div>
                        <div class="insight-item"><span class="highlight-text">xiaomi</span>: 쿠팡(1.00)·Netflix(0.73)·배달의민족(0.69)·윈도우라이브(0.64) 중심. 가성비 직구·멀티 OS 호환 중시 테크 지향층</div>
                    </div>

                    <!-- 2. 브랜드 간 교차방문 분석 -->
                    <div class="chart-container">
                        <div class="chart-title">2-1. 브랜드별 교차방문율 히트맵 (상위 5개 브랜드)</div>
                        <canvas id="crossVisitChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">교차방문 패턴</div>
                        <div class="insight-item"><span class="highlight-text">Haier → Himart</span>: 11.4% 유출률, <span class="highlight-text">Haier → Cuckoo</span>: 12.5% 유출률</div>
                        <div class="insight-item"><span class="highlight-text">Xiaomi</span>: 독립적 소비 성향, 교차방문 비율 자체가 상대적으로 낮음</div>
                        <div class="insight-item"><span class="highlight-text">Modevi</span>: 다중 브랜드 방문, Carrier(28.5%), LGE(22.1%), Cuckoo(25.0%) 등 가격 비교·스펙 탐색 중심</div>
                    </div>

                    <!-- 3. 성별/연령대별 교차방문 흐름 분석 -->
                    <div class="chart-container">
                        <div class="chart-title">2-2. 성별/연령대별 교차방문 유입/유출 흐름 분석</div>
                        <canvas id="flowChart"></canvas>
                    </div>

                    <div class="insights-box">
                        <div class="insights-title">30대 성별 교차방문 특성</div>
                        <div class="insight-item"><span class="highlight-text">여성 30대</span>: 유입은 Himart, Carrier 중심 / 유출 거의 없음 → 핵심 타깃층</div>
                        <div class="insight-item"><span class="highlight-text">남성 30대</span>: 유입 다양 / 유출은 Cooing 집중 → 비교 브랜드 경계 필요</div>
                        <div class="insight-item"><span class="highlight-text">여성 50대</span>: LGE, Cuckoo 유입 존재 / 일부 Samsung 유출</div>
                    </div>

                    <div class="analysis-text">
                        하이얼 고객들은 주로 <span class="highlight-text">쿠팡(0.98), 옥션(0.56), 디시트렌드(0.52), 오늘의집(0.47)</span>을 
                        중심으로 활동하며, 가격 비교와 커뮤니티 트렌드를 반영한 디자인·공간 활용을 중시하는 특성을 보입니다.
                        브랜드 충성도 관점에서 30대 여성층이 가장 안정적인 고객군으로 분석됩니다.
                    </div>
                </div>
            </div>
        </div>

        <!-- 푸터 -->
        <div class="footer">
            <div class="footer-content">
                <p class="footer-text">© 2025 기업고객 타겟리포트. All rights reserved.</p>
            </div>
        </div>
    </div>

    <script>
        // 메인 섹션 전환 함수
        function showMainSection(sectionId, reportId) {
            // 모든 메인 섹션 숨기기
            const sections = document.querySelectorAll('.main-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // 모든 메뉴 링크 비활성화
            const menuLinks = document.querySelectorAll('.menu-link');
            menuLinks.forEach(link => link.classList.remove('active'));
            
            // 선택된 섹션 표시
            if (sectionId === 'view-report' && reportId) {
                // 리포트 조회 페이지 표시
                document.getElementById('view-report-section').classList.add('active');
                
                // 리포트 섹션 초기화
                setTimeout(() => {
                    initReportCharts();
                }, 100);
                
                // 히스토리 메뉴 활성화 (리포트는 히스토리에서 조회됨)
                document.querySelector('[data-section="report-history"]').classList.add('active');
            } else {
                // 다른 메인 섹션 표시
                const targetSection = document.getElementById(sectionId + '-section');
                if (targetSection) {
                    targetSection.classList.add('active');
                }
                
                // 해당 메뉴 링크 활성화
                const targetMenu = document.querySelector(`[data-section="${sectionId}"]`);
                if (targetMenu) {
                    targetMenu.classList.add('active');
                }
            }
        }

        // 리포트 조회 함수
        function viewReport(reportId) {
            showMainSection('view-report', reportId);
            return false;
        }

        // 리포트 내 섹션 전환 함수
        function showReportSection(sectionId, element) {
            // 모든 콘텐츠 섹션 숨기기
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // 모든 탭 비활성화
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 섹션 표시
            document.getElementById(sectionId).classList.add('active');
            
            // 클릭된 탭 활성화
            if (element) {
                element.classList.add('active');
            }
            
            // 차트 초기화 (선택적)
            initSpecificCharts(sectionId);
        }

        // 특정 섹션의 차트만 초기화
        function initSpecificCharts(sectionId) {
            setTimeout(() => {
                if (sectionId === 'demographics') {
                    initDemographicsCharts();
                } else if (sectionId === 'trends') {
                    initTrendsChart();
                } else if (sectionId === 'behavior') {
                    initBehaviorCharts();
                }
            }, 100);
        }

        // 리포트의 모든 차트 초기화
        function initReportCharts() {
            initDemographicsCharts();
            setTimeout(() => {
                initTrendsChart();
                setTimeout(() => {
                    initBehaviorCharts();
                }, 100);
            }, 100);
        }

        // 인구통계학적 차트 초기화
        function initDemographicsCharts() {
            // 1. 방문자 수 비교 차트
            const visitorsCtx = document.getElementById('visitorsChart');
            if (visitorsCtx && !visitorsCtx.chartInstance) {
                visitorsCtx.chartInstance = new Chart(visitorsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Cuckoo', 'LGE', 'Himart', 'Xiaomi', 'Carrier', 'Samsung', 'Haier', 'Cooing', 'Modevi'],
                        datasets: [{
                            label: '3개월 MAU',
                            data: [553986, 444532, 242416, 16521, 3687, 3082, 1306, 899, 176],
                            backgroundColor: function(context) {
                                return context.dataIndex === 6 ? '#A50034' : '#6c757d';
                            },
                            borderColor: function(context) {
                                return context.dataIndex === 6 ? '#A50034' : '#6c757d';
                            },
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: { 
                                beginAtZero: true,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            },
                            x: { 
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }

            // 2. 연령대 분포 차트 (정규화된 누적 백분율)
            const ageCtx = document.getElementById('ageChart');
            if (ageCtx && !ageCtx.chartInstance) {
                ageCtx.chartInstance = new Chart(ageCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Cuckoo', 'LGE', 'Himart', 'Xiaomi', 'Carrier', 'Samsung', 'Haier', 'Cooing', 'Modevi'],
                        datasets: [{
                            label: '20대',
                            data: [12, 15, 12, 20, 15, 15, 15, 18, 15],
                            backgroundColor: '#3498db'
                        }, {
                            label: '30대',
                            data: [15, 20, 18, 25, 22, 20, 28, 25, 22],
                            backgroundColor: '#2ecc71'
                        }, {
                            label: '40대',
                            data: [25, 25, 22, 20, 28, 25, 32, 28, 25],
                            backgroundColor: '#f39c12'
                        }, {
                            label: '50대',
                            data: [30, 25, 28, 25, 25, 28, 25, 25, 28],
                            backgroundColor: '#9b59b6'
                        }, {
                            label: '60대+',
                            data: [18, 15, 20, 10, 10, 12, 0, 4, 10],
                            backgroundColor: '#e74c3c'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: { 
                                stacked: true,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            },
                            y: { 
                                stacked: true,
                                max: 100,
                                grid: { color: '#e9ecef' },
                                ticks: {
                                    color: '#6c757d',
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // 3. 성별 분포 차트
            const genderCtx = document.getElementById('genderChart');
            if (genderCtx && !genderCtx.chartInstance) {
                genderCtx.chartInstance = new Chart(genderCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Cuckoo', 'LGE', 'Himart', 'Xiaomi', 'Carrier', 'Samsung', 'Haier', 'Cooing', 'Modevi'],
                        datasets: [{
                            label: '여성',
                            data: [54, 55, 62, 25, 40, 35, 38, 35, 35],
                            backgroundColor: '#e91e63'
                        }, {
                            label: '남성',
                            data: [46, 45, 38, 75, 60, 65, 62, 65, 65],
                            backgroundColor: '#2196f3'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: { 
                                stacked: true,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            },
                            y: { 
                                stacked: true,
                                max: 100,
                                grid: { color: '#e9ecef' },
                                ticks: {
                                    color: '#6c757d',
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // 4. 지역별 분포 차트
            const regionCtx = document.getElementById('regionChart');
            if (regionCtx && !regionCtx.chartInstance) {
                regionCtx.chartInstance = new Chart(regionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['서울', '경기', '부산', '대구', '인천'],
                        datasets: [{
                            label: 'Haier',
                            data: [25, 20, 15, 12, 10],
                            backgroundColor: '#A50034'
                        }, {
                            label: 'Cuckoo',
                            data: [22, 18, 17, 15, 12],
                            backgroundColor: '#6c757d'
                        }, {
                            label: 'LGE',
                            data: [24, 19, 16, 14, 11],
                            backgroundColor: '#adb5bd'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: { 
                                beginAtZero: true,
                                max: 30,
                                grid: { color: '#e9ecef' },
                                ticks: {
                                    color: '#6c757d',
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            },
                            x: { 
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }

            // 5. 고객특성지수 차트
            const customerIndexCtx = document.getElementById('customerIndexChart');
            if (customerIndexCtx && !customerIndexCtx.chartInstance) {
                // 히트맵 데이터 생성
                const labels = ['홈케어서비스', '블로그활동', '이사관심', '구매력', '인테리어관심', '렌탈관심', '주방용품가전'];
                const companies = ['Haier', 'Xiaomi', 'Cooing', 'Carrier', 'Cuckoo'];
                
                // 데이터 생성 (가상 데이터)
                const data = [
                    [10, 6.5, 5.0, 1.0, 3.8, 6.0, 6.2], // Haier
                    [0, 2.3, 1.5, 10, 0.6, 2.4, 3.5],   // Xiaomi
                    [10, 7.1, 2.8, 1.8, 4.4, 2.3, 8.5], // Cooing
                    [1, 5.9, 2.2, 1.0, 1.1, 8.0, 6.9],  // Carrier
                    [3, 5.7, 2.1, 2.2, 3.4, 2.4, 5.3]   // Cuckoo
                ];

                // Chart.js 히트맵 생성 (부족한 기능을 가상으로 구현)
                customerIndexCtx.chartInstance = new Chart(customerIndexCtx, {
                    type: 'bar',
                    data: {
                        labels: companies,
                        datasets: labels.map((label, i) => ({
                            label: label,
                            data: companies.map((_, j) => data[j][i]),
                            backgroundColor: getHeatmapColor(i),
                            stack: 'Stack ' + i
                        }))
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.raw || 0;
                                        return `${label}: ${value}`;
                                    }
                                }
                            },
                            legend: {
                                position: 'right'
                            }
                        },
                        scales: {
                            x: {
                                stacked: true,
                                grid: { color: '#e9ecef' }
                            },
                            y: {
                                stacked: true,
                                grid: { color: '#e9ecef' }
                            }
                        }
                    }
                });
                
                // 히트맵 색상 생성 함수
                function getHeatmapColor(index) {
                    const colors = ['#003f5c', '#2f4b7c', '#665191', '#a05195', '#d45087', '#f95d6a', '#ff7c43', '#ffa600'];
                    return colors[index % colors.length];
                }
            }

            // 6. 가구세그먼트 차트
            const householdCtx = document.getElementById('householdChart');
            if (householdCtx && !householdCtx.chartInstance) {
                householdCtx.chartInstance = new Chart(householdCtx, {
                    type: 'bar',
                    data: {
                        labels: ['1인가구', '중년 1인가구', '중년 자녀동거', '키즈맘 초등생', '시니어'],
                        datasets: [{
                            label: 'Haier',
                            data: [17.8, 5.5, 48.5, 14.2, 8.0],
                            backgroundColor: '#A50034'
                        }, {
                            label: 'Cuckoo',
                            data: [10.0, 3.0, 43.0, 12.0, 14.0],
                            backgroundColor: '#17a2b8'
                        }, {
                            label: 'Xiaomi',
                            data: [17.0, 4.0, 35.0, 18.0, 6.0],
                            backgroundColor: '#28a745'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 50,
                                grid: { color: '#e9ecef' },
                                ticks: {
                                    color: '#6c757d',
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            },
                            x: { 
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }
        }

        // 시계열 차트 초기화
        function initTrendsChart() {
            // 1. 월별 접속자 수 추이 차트
            const trendsCtx = document.getElementById('trendsChart');
            if (trendsCtx && !trendsCtx.chartInstance) {
                trendsCtx.chartInstance = new Chart(trendsCtx, {
                    type: 'line',
                    data: {
                        labels: ['2024-07', '2024-08', '2024-09', '2024-10', '2024-11', '2024-12'],
                        datasets: [{
                            label: 'Haier',
                            data: [180, 190, 185, 200, 220, 210],
                            borderColor: '#A50034',
                            backgroundColor: 'rgba(165, 0, 52, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'Cooing',
                            data: [170, 175, 180, 175, 172, 170],
                            borderColor: '#6c757d',
                            backgroundColor: 'rgba(108, 117, 125, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'Modevi',
                            data: [85, 90, 150, 110, 95, 90],
                            borderColor: '#adb5bd',
                            backgroundColor: 'rgba(173, 181, 189, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' },
                                title: {
                                    display: true,
                                    text: 'MAU',
                                    color: '#6c757d'
                                }
                            },
                            x: {
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' },
                                title: {
                                    display: true,
                                    text: '기간',
                                    color: '#6c757d'
                                }
                            }
                        }
                    }
                });
            }

            // 2. 시장 점유율 변화 차트
            const marketShareCtx = document.getElementById('marketShareChart');
            if (marketShareCtx && !marketShareCtx.chartInstance) {
                marketShareCtx.chartInstance = new Chart(marketShareCtx, {
                    type: 'line',
                    data: {
                        labels: ['2024-07', '2024-08', '2024-09', '2024-10', '2024-11', '2024-12'],
                        datasets: [{
                            label: 'Cuckoo',
                            data: [42.5, 43.2, 42.8, 43.5, 44.1, 43.8],
                            borderColor: '#495057',
                            backgroundColor: 'rgba(73, 80, 87, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        }, {
                            label: 'LGE',
                            data: [35.2, 35.8, 35.5, 34.9, 35.3, 36.5],
                            borderColor: '#6c757d',
                            backgroundColor: 'rgba(108, 117, 125, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        }, {
                            label: 'Himart',
                            data: [18.5, 17.8, 17.3, 16.9, 16.2, 15.7],
                            borderColor: '#adb5bd',
                            backgroundColor: 'rgba(173, 181, 189, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        }, {
                            label: 'Haier',
                            data: [0.15, 0.16, 0.15, 0.17, 0.18, 0.17],
                            borderColor: '#A50034',
                            backgroundColor: 'rgba(165, 0, 52, 0.1)',
                            borderWidth: 3,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 50,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' },
                                title: {
                                    display: true,
                                    text: '점유율 (%)',
                                    color: '#6c757d'
                                }
                            },
                            x: {
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }
        }

        // 고객 행동 분석 차트 초기화
        function initBehaviorCharts() {
            // 1. 사이트 방문 패턴 히트맵
            const siteVisitCtx = document.getElementById('siteVisitChart');
            if (siteVisitCtx && !siteVisitCtx.chartInstance) {
                // 히트맵 데이터 생성
                const labels = ['쿠팡', '옥션', '오늘의집', 'Netflix', '배달의민족', '디시트렌드', '엘포인트'];
                const companies = ['Haier', 'Cooing', 'Xiaomi', 'Modevi', 'Cuckoo'];
                
                // 데이터 생성 (가상 데이터)
                const data = [
                    [0.98, 0.56, 0.47, 0.35, 0.28, 0.52, 0.31], // Haier
                    [1.00, 0.59, 0.60, 0.74, 0.22, 0.31, 0.28], // Cooing
                    [1.00, 0.35, 0.25, 0.73, 0.69, 0.18, 0.42], // Xiaomi
                    [0.85, 0.60, 0.62, 0.80, 0.81, 0.25, 0.33], // Modevi
                    [0.91, 0.41, 0.36, 0.53, 0.19, 0.19, 0.35]  // Cuckoo
                ];

                // Chart.js 히트맵 생성 (부족한 기능을 가상으로 구현)
                siteVisitCtx.chartInstance = new Chart(siteVisitCtx, {
                    type: 'bar',
                    data: {
                        labels: companies,
                        datasets: labels.map((label, i) => ({
                            label: label,
                            data: companies.map((_, j) => data[j][i]),
                            backgroundColor: getHeatmapColor(i),
                            stack: 'Stack ' + i
                        }))
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.raw || 0;
                                        return `${label}: ${value.toFixed(2)}`;
                                    }
                                }
                            },
                            legend: {
                                position: 'right'
                            }
                        },
                        scales: {
                            x: {
                                stacked: true,
                                grid: { color: '#e9ecef' }
                            },
                            y: {
                                stacked: true,
                                grid: { color: '#e9ecef' }
                            }
                        }
                    }
                });
                
                // 히트맵 색상 생성 함수
                function getHeatmapColor(index) {
                    const colors = ['#003f5c', '#2f4b7c', '#665191', '#a05195', '#d45087', '#f95d6a', '#ff7c43', '#ffa600'];
                    return colors[index % colors.length];
                }
            }

            // 2. 교차방문율 히트맵
            const crossVisitCtx = document.getElementById('crossVisitChart');
            if (crossVisitCtx && !crossVisitCtx.chartInstance) {
                crossVisitCtx.chartInstance = new Chart(crossVisitCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Haier → Cuckoo', 'Haier → Himart', 'Haier → LGE', 'Haier → Carrier', 'Haier → Xiaomi'],
                        datasets: [{
                            label: '교차방문율 (%)',
                            data: [12.5, 11.4, 5.6, 3.3, 2.5],
                            backgroundColor: [
                                '#A50034',
                                '#A50034',
                                '#6c757d',
                                '#6c757d',
                                '#6c757d'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 15,
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' },
                                title: {
                                    display: true,
                                    text: '교차방문율 (%)',
                                    color: '#6c757d'
                                }
                            },
                            x: {
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }

            // 3. 성별/연령대별 교차방문 흐름
            const flowCtx = document.getElementById('flowChart');
            if (flowCtx && !flowCtx.chartInstance) {
                flowCtx.chartInstance = new Chart(flowCtx, {
                    type: 'bar',
                    data: {
                        labels: ['여성 30대 Himart→Haier', '여성 30대 LGE→Haier', '여성 30대 Cuckoo→Haier', '남성 30대 Haier→Cooing', '여성 50대 LGE→Haier', '여성 50대 Haier→Samsung'],
                        datasets: [{
                            label: '유입/유출율',
                            data: [8.5, 6.2, 5.1, -4.8, 5.1, -2.3],
                            backgroundColor: function(context) {
                                const value = context.dataset.data[context.dataIndex];
                                return value > 0 ? '#495057' : '#A50034';
                            }
                        }]
                    },
                    options: {
                        responsive: true,
                        indexAxis: 'y',
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: {
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' },
                                title: {
                                    display: true,
                                    text: '교차방문율 (%) - 유입(+) / 유출(-)',
                                    color: '#6c757d'
                                }
                            },
                            y: {
                                grid: { color: '#e9ecef' },
                                ticks: { color: '#6c757d' }
                            }
                        }
                    }
                });
            }
        }

        // 폼 관련 함수들
        function searchTarget() {
            const targetSelect = document.getElementById('targetCustomer');
            const targetDetail = document.getElementById('targetDetail');
            
            if (targetDetail.value.trim()) {
                alert(`검색 결과: ${targetDetail.value} 관련 데이터를 찾았습니다.`);
            } else {
                alert('검색할 내용을 입력해주세요.');
            }
        }

        function searchCompare() {
            const compareSelect = document.getElementById('compareCustomer');
            const compareDetail = document.getElementById('compareDetail');
            
            if (compareDetail.value.trim()) {
                alert(`검색 결과: ${compareDetail.value} 관련 데이터를 찾았습니다.`);
            } else {
                alert('검색할 내용을 입력해주세요.');
            }
        }

        // 폼 제출 처리
        document.addEventListener('DOMContentLoaded', function() {
            // 메뉴 링크에 클릭 이벤트 바인딩
            const menuLinks = document.querySelectorAll('.menu-link');
            menuLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    showMainSection(section);
                });
            });

            // 폼 제출 처리
            const form = document.getElementById('targetReportForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const reportName = document.getElementById('reportName').value || '미지정 리포트';
                    
                    const button = document.querySelector('.generate-report-btn');
                    const originalText = button.innerHTML;
                    
                    button.innerHTML = '리포트 생성중...';
                    button.disabled = true;
                    
                    setTimeout(() => {
                        alert(`리포트 생성이 완료되었습니다!\n\n리포트명: ${reportName}`);
                        button.innerHTML = originalText;
                        button.disabled = false;
                        showMainSection('report-history');
                    }, 2000);
                });
            }

            // 드롭다운 변경시 placeholder 업데이트
            const targetCustomerSelect = document.getElementById('targetCustomer');
            const compareCustomerSelect = document.getElementById('compareCustomer');
            
            if (targetCustomerSelect) {
                targetCustomerSelect.addEventListener('change', function() {
                    const detail = document.getElementById('targetDetail');
                    if (this.value === 'URL') {
                        detail.placeholder = 'www.haier.co.kr 을 검색';
                    } else {
                        detail.placeholder = '하이얼 을 검색';
                    }
                });
            }
            
            if (compareCustomerSelect) {
                compareCustomerSelect.addEventListener('change', function() {
                    const detail = document.getElementById('compareDetail');
                    if (this.value === 'URL') {
                        detail.placeholder = 'www.cuckoo.co.kr 을 검색';
                    } else {
                        detail.placeholder = '쿠쿠 를 검색';
                    }
                });
            }
        });
    </script>
